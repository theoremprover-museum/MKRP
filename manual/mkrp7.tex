\chapter{An Example Session} 
\label{AnExampleSession} 

The following protocol lists a typical session with the Symbolics Lisp Machine version of {\sc Markgraf Karl}.

{\small
\begin{verbatim}


USER: :Login (user name) prckln (keywords) :Init File 
  (file, None, or Default Init File [default Default-Init-File]) None
No new mail.
USER: :Set Package (a package [default COMMON-LISP-USER]) MKRP
 Package set to MARKGRAF-KARL
MARKGRAF-KARL: (mkrp)


\end{verbatim}

{\LARGE \sc M k r p \qquad     Theorem Prover}

\begin{verbatim}



The dialogue language is English for this session. 
 H[ELP]        prints a list of all available commands.
 H[ELP] <COM>  explains the command <COM>. 

@ dd >mkrp>examples>classic>

@ de steamroller-sort2

@ h
 The following commands are available in this system:

   V     H[ELP]   EX[IT]    O[PTIONS]          D[EFINE.]E[XAMPLE.NAME]
   HC    L[ISP]   LO[GOFF]  V[IEW.]P[ROTOCOL]  D[EFINE.]D[IRECTORY] 
   H[ARDCOPY.]P[ROTOCOL]
                                EP
                                FP
                        ER              CP
                        FR
                EC              CR              RP
                FC
     E[DIT]        C[ONSTRUCT]        R[EFUTE]         P[ROTOCOL] 
     F[ORMULA]

 H[ELP]  <COM>      prints an explanation of the command <COM>. 

@ h e
 E[DIT]    [<PROBLEM FILE>]
        creates a problem description. 
        To that end the formula editor is called twice,
        first for the axiom formulae, second for the theorem 
        formulae.
        The problem description is written on
        <PROBLEM FILE>, if given, otherwise a standard file name is used.

@ e
***** Edit: Calling the formula editor. Please edit the axiom formulae. ************************
> r
13 formulae get from file F:>mkrp>examples>classic>steamroller-sort2>ax.lisp.
13 formulae shifted into the active area.
> l-
*  1 *  SORT WOLF,FOX,BIRD,CATERPILLAR,SNAIL : ANIMAL
*  2 *  SORT GRAIN : PLANT
*  3 *  ALL X: ANIMAL 
               (ALL Y : PLANT EATS (X Y))
               OR (ALL Y : ANIMAL SMALLER (Y X) AND (EX Z : PLANT EATS (Y Z)) IMPL EATS (X Y))
*  4 *  ALL X : CATERPILLAR ALL Y : BIRD SMALLER (X Y)
*  5 *  ALL X : SNAIL ALL Y : BIRD SMALLER (X Y)
*  6 *  ALL X : BIRD ALL Y : FOX SMALLER (X Y)
*  7 *  ALL X : FOX ALL Y : WOLF SMALLER (X Y)
*  8 *  ALL X : FOX ALL Y : WOLF NOT EATS (Y X)
*  9 *  ALL X : GRAIN ALL Y : WOLF NOT EATS (Y X)
* 10 *  ALL X : BIRD ALL Y : CATERPILLAR EATS (X Y)
* 11 *  ALL X : BIRD ALL Y : SNAIL NOT EATS (X Y)
* 12 *  ALL X : CATERPILLAR EX Y : PLANT EATS (X Y)
* 13 *  ALL X : SNAIL EX Y : PLANT EATS (X Y)
> ok
Formulae not saved. Terminate? (Y/N)y
Editor terminated.
***** Edit: Calling the formula editor. Please edit the theorem formulae. **********************
> r
2 formulae get from file F:>mkrp>examples>classic>steamroller-sort2>th.lisp.
2 formulae shifted into the active area.
> l-
* 1 *  * THEOREMS
* 2 *  EX X,Y : ANIMAL EX Z : GRAIN EATS (X Y) AND EATS (Y Z)
> h
Possible Commands:
------------------
I[NSERT]  D[ELETE]  +[SHIFT]  -[SHIFT]  E[DIT]    C[HANGE]  R[EAD] 
W[RITE]   G[ET]     SW[ITCH]  U[NDO]    REP[LACE] PP[RINT]  S[HOW]
SS[HOW]   PRE[FIX]  IN[FIX]   ST[ATE]   OK        V         LISP 
!         H[ELP]    HH[ELP]   EXEC[UTE]
> ok
Formulae not saved. Terminate? (Y/N)y
Editor terminated.

@ h cr
 C[ONSTRUCT.]R[EFUTE]    [<PROBLEM FILE> [<GRAPH FILE> [<CODE FILE> 
                         [<COMMENT>]]]]
   has the same effect as the sequence
   CONSTRUCT  <PROBLEM FILE> <GRAPH FILE> <CODE FILE> <COMMENT>
   REFUTE     <GRAPH FILE> NIL <CODE FILE>

@ cr
***** Edit: Calling the formula editor. Please edit the theorem formulae. **********************
***** Construct: Construction of the initial graphs. *******************************************
Inserted: R.=<34>: All X_28:ANY   + =(x_28 x_28)
          A1<37>: All X_10:BIRD X_9:CATERPILLAR   + SMALLER(x_9 x_10)
Axiom              615 Msec Links:     0   +0    -0 Clauses:    2  +2  -0 Store:    312    9
Inserted: R.=<34>: All X_28:ANY   + =(x_28 x_28)
          A1<37>: All X_10:BIRD X_9:CATERPILLAR   + SMALLER(x_9 x_10)
All:      R.= A1 
Inserted: A2<40>: All X_12:BIRD X_11:SNAIL   + SMALLER(x_11 x_12)
Axiom              255 Msec Links:     0   +0    -0 Clauses:    3  +1  -0 Store:    304    9
Inserted: A2<40>: All X_12:BIRD X_11:SNAIL   + SMALLER(x_11 x_12)
All:      R.= A1 A2 
Inserted: A3<43>: All X_14:FOX X_13:BIRD   + SMALLER(x_13 x_14)
Axiom              206 Msec Links:     0   +0    -0 Clauses:    4  +1  -0 Store:    303    9
Inserted: A3<43>: All X_14:FOX X_13:BIRD   + SMALLER(x_13 x_14)
All:      R.= A1 A2 A3 
Inserted: A4<46>: All X_16:WOLF X_15:FOX   + SMALLER(x_15 x_16)
Axiom              193 Msec Links:     0   +0    -0 Clauses:    5  +1  -0 Store:    302    9
Inserted: A4<46>: All X_16:WOLF X_15:FOX   + SMALLER(x_15 x_16)
All:      R.= A1 A2 A3 A4 
Inserted: A5<49>: All X_17:FOX X_18:WOLF   - EATS(x_18 x_17)
Axiom              191 Msec Links:     0   +0    -0 Clauses:    6  +1  -0 Store:    301    9
Inserted: A5<49>: All X_17:FOX X_18:WOLF   - EATS(x_18 x_17)
All:      R.= A1 A2 A3 A4 A5 
Inserted: A6<52>: All X_19:GRAIN X_20:WOLF   - EATS(x_20 x_19)
Axiom              403 Msec Links:     0   +0    -0 Clauses:    7  +1  -0 Store:    291    9
Inserted: A6<52>: All X_19:GRAIN X_20:WOLF   - EATS(x_20 x_19)
All:      R.= A1 A2 A3 A4 A5 A6 
Inserted: A7<55>: All X_22:CATERPILLAR X_21:BIRD   + EATS(x_21 x_22)
Axiom              229 Msec Links:     0   +0    -0 Clauses:    8  +1  -0 Store:    290    9
Inserted: A7<55>: All X_22:CATERPILLAR X_21:BIRD   + EATS(x_21 x_22)
All:      R.= A1 A2 A3 A4 A5 A6 A7 
Inserted: A8<58>: All X_24:SNAIL X_23:BIRD   - EATS(x_23 x_24)
Axiom              210 Msec Links:     0   +0    -0 Clauses:    9  +1  -0 Store:    289    9
Inserted: A8<58>: All X_24:SNAIL X_23:BIRD   - EATS(x_23 x_24)
All:      R.= A1 A2 A3 A4 A5 A6 A7 A8 
Inserted: A9<60>: All X_25:CATERPILLAR   + EATS(x_25 f_1(x_25))
Axiom              208 Msec Links:     0   +0    -0 Clauses:   10  +1  -0 Store:    393    9
Inserted: A9<60>: All X_25:CATERPILLAR   + EATS(x_25 f_1(x_25))
All:      R.= A1 A2 A3 A4 A5 A6 A7 A8 A9 
Inserted: A10<62>: All X_27:SNAIL   + EATS(x_27 f_2(x_27))
Axiom              248 Msec Links:     0   +0    -0 Clauses:   11  +1  -0 Store:    392    8
Inserted: A10<62>: All X_27:SNAIL   + EATS(x_27 f_2(x_27))
All:      R.= A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 
Inserted: A11<67>: All X_8,X_4:PLANT X_6,X_3:ANIMAL   + EATS(x_3 x_4)  - SMALLER(x_6 x_3)
                                                      - EATS(x_6 x_8)  + EATS(x_3 x_6)
Axiom             1132 Msec Links:    15  +15    -0 Clauses:   12  +1  -0 Store:    390    8
Inserted: A11<67>: All X_8,X_4:PLANT X_6,X_3:ANIMAL   + EATS(x_3 x_4)  - SMALLER(x_6 x_3)
                                                      - EATS(x_6 x_8)  + EATS(x_3 x_6)
All:      R.= A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 
Inserted: T12<106>: All X_31:GRAIN X_30,X_29:ANIMAL   - EATS(x_29 x_30)  - EATS(x_30 x_31)
Theorem            474 Msec Links:    22   +7    -0 Clauses:   13  +1  -0 Store:    389    8
Inserted: T12<106>: All X_31:GRAIN X_30,X_29:ANIMAL   - EATS(x_29 x_30)  - EATS(x_30 x_31)
All:      R.= A1 A2 A3 A4 A5 A6 A7 A8 A9 A10 A11 T12 
Red.Init           363 Msec Links:    21   +1    -2 Clauses:   12  +0  -1 Store:    380    8
All:      R.=<34>: All X_28:ANY   + =(x_28 x_28)
          A2<40>: All X_12:BIRD X_11:SNAIL   + SMALLER(x_11 x_12)
          A3<43>: All X_14:FOX X_13:BIRD   + SMALLER(x_13 x_14)
          A4<46>: All X_16:WOLF X_15:FOX   + SMALLER(x_15 x_16)
          A5<49>: All X_17:FOX X_18:WOLF   - EATS(x_18 x_17)
          A6<52>: All X_19:GRAIN X_20:WOLF   - EATS(x_20 x_19)
          A7<55>: All X_22:CATERPILLAR X_21:BIRD   + EATS(x_21 x_22)
          A8<58>: All X_24:SNAIL X_23:BIRD   - EATS(x_23 x_24)
          A9<60>: All X_25:CATERPILLAR   + EATS(x_25 f_1(x_25))
          A10<62>: All X_27:SNAIL   + EATS(x_27 f_2(x_27))
          A11<67>: All X_8,X_4:PLANT X_6,X_3:ANIMAL   + EATS(x_3 x_4)  - SMALLER(x_6 x_3)
                                                      - EATS(x_6 x_8)  + EATS(x_3 x_6)
          T12<106>: All X_31:GRAIN X_30,X_29:ANIMAL   - EATS(x_29 x_30)  - EATS(x_30 x_31)
***** Refute: Start of refutation. ***********************************************************
All:      R.=<34>: All X_28:ANY   + =(x_28 x_28)
          A2<40>: All X_12:BIRD X_11:SNAIL   + SMALLER(x_11 x_12)
          A3<43>: All X_14:FOX X_13:BIRD   + SMALLER(x_13 x_14)
          A4<46>: All X_16:WOLF X_15:FOX   + SMALLER(x_15 x_16)
          A5<49>: All X_17:FOX X_18:WOLF   - EATS(x_18 x_17)
          A6<52>: All X_19:GRAIN X_20:WOLF   - EATS(x_20 x_19)
          A7<55>: All X_22:CATERPILLAR X_21:BIRD   + EATS(x_21 x_22)
          A8<58>: All X_24:SNAIL X_23:BIRD   - EATS(x_23 x_24)
          A9<60>: All X_25:CATERPILLAR   + EATS(x_25 f_1(x_25))
          A10<62>: All X_27:SNAIL   + EATS(x_27 f_2(x_27))
          A11<67>: All X_8,X_4:PLANT X_6,X_3:ANIMAL   + EATS(x_3 x_4)  - SMALLER(x_6 x_3)  
                                                      - EATS(x_6 x_8)  + EATS(x_3 x_6)
          T12<106>: All X_31:GRAIN X_30,X_29:ANIMAL   - EATS(x_29 x_30)  - EATS(x_30 x_31)
Marked             620 Msec Links:    21   +0    -0 Clauses:   12  +0  -0 Store:    373    8
Inserted: R1<121>: All X_124:GRAIN X_122:CATERPILLAR   - EATS(x_122 x_124)
Inserted: R1<121>: All X_124:GRAIN X_122:CATERPILLAR   - EATS(x_122 x_124)
Step 1             462 Msec Links:    24   +3    -0 Clauses:   13  +1  -0 Store:    372    8
                   387 Msec Links:    22   +0    -2 Clauses:   12  +0  -1 Store:    371    8
All:      R.= A2 A3 A4 A5 A6 A8 A9 A10 A11 T12 R1 
Inserted: R2<85>: All X_127:GRAIN X_131,X_133:PLANT X_132,X_134:ANIMAL
                  + EATS(x_134 x_133)  - SMALLER(x_132 x_134)
                  - EATS(x_132 x_131)  - EATS(x_132 x_127)
Inserted: R2<85>: All X_127:GRAIN X_133:PLANT X_132,X_134:ANIMAL 
                  + EATS(x_134 x_133)  - SMALLER(x_132 x_134)  - EATS(x_132 x_127)
Changed:  R2<85>: All X_127:GRAIN X_133:PLANT X_132,X_134:ANIMAL   
                  + EATS(x_134 x_133)  - SMALLER(x_132 x_134)  - EATS(x_132 x_127)
Step 2            2177 Msec Links:    40  +18    -0 Clauses:   13  +1  -0 Store:    368    7
                   613 Msec Links:    31   +0    -9 Clauses:   12  +0  -1 Store:    357    7
All:      R.= A2 A3 A4 A5 A6 A8 A9 A10 A11 R1 R2 
Inserted: R3<93>: All X_151:GRAIN X_84:SNAIL X_152:PLANT X_83:BIRD   
                  + EATS(x_83 x_152)  - EATS(x_84 x_151)
Inserted: R3<93>: All X_151:GRAIN X_84:SNAIL X_152:PLANT X_83:BIRD   
                  + EATS(x_83 x_152)  - EATS(x_84 x_151)
Step 3             664 Msec Links:    39   +8    -0 Clauses:   13  +1  -0 Store:    356    7
                   481 Msec Links:    39   +1    -1 Clauses:   13  +0  -0 Store:    354    7
All:      R.= A2 A3 A4 A5 A6 A8 A9 A10 A11 R1 R2 R3 
Inserted: R4<102>: All X_125:GRAIN X_147:BIRD X_105:PLANT X_148:FOX   
                   + EATS(x_148 x_105)  - EATS(x_147 x_125)
Inserted: R4<102>: All X_125:GRAIN X_147:BIRD X_105:PLANT X_148:FOX   
                   + EATS(x_148 x_105)  - EATS(x_147 x_125)
Step 4             808 Msec Links:    48   +9    -0 Clauses:   14  +1  -0 Store:    353    7
                   480 Msec Links:    48   +1    -1 Clauses:   14  +0  -0 Store:    342    7
All:      R.= A2 A3 A4 A5 A6 A8 A9 A10 A11 R1 R2 R3 R4 
Inserted: R5<159>: All X_166:GRAIN X_168:FOX X_165:PLANT X_169:WOLF   
                   + EATS(x_169 x_165)  - EATS(x_168 x_166)
Inserted: R5<159>: All X_166:GRAIN X_168:FOX   - EATS(x_168 x_166)
Changed:  R5<159>: All X_166:GRAIN X_168:FOX   - EATS(x_168 x_166)
Step 5             933 Msec Links:    53   +5    -0 Clauses:   15  +1  -0 Store:    341    7
Changed:  R4<102>: All X_125:GRAIN X_147:BIRD   - EATS(x_147 x_125)
          R3<93>: All X_151:GRAIN X_84:SNAIL   - EATS(x_84 x_151)
                  1128 Msec Links:    21   +0   -32 Clauses:   14  +0  -1 Store:    338    7
All:      R.= A2 A3 A4 A5 A6 A8 A9 A10 A11 R1 R3 R4 R5 
Inserted: R6<209>: []
Step 6             211 Msec Links:    21   +0    -0 Clauses:   15  +1  -0 Store:    338    8
                     9 Msec Links:    21   +0    -0 Clauses:   15  +0  -0 Store:    337    8
All:      R.= A2 A3 A4 A5 A6 A8 A9 A10 A11 R1 R3 R4 R5 R6 
===== Result: (SUCCESS 209)
***** Refute: Theorem proved. ******************************************************************
@ h p
 P[ROTOCOL]  [<CODE FILE> [<LIST FILE> [<ATP VERSION>]]]]
        creates a proof protocol from raw data.
        <CODE FILE> is the file containing the raw data.
        <LIST FILE> is the file, where the processed datas for protocol are 
        written on. 

@ p
Protocol: The protocol was created on file 
	  F:>mkrp>examples>classic>steamroller-sort2>LIST.TEXT.12.

@ h vp
 VP      Shows the proof protocol on the screen.

@ vp
;;; -*- Package: MKRP; Base: 10; Mode: TEXT; Syntax: Common-lisp -*-



    ****************************************************************************
    *                                                                          *
    *     ATP-SYSTEM: MARKGRAF KARL REFUTATION PROCEDURE, UNI KAISERSLAUTERN   *
    *                                                                          *
    *        VERSION: MKRP 47.12                                               *
    *           DATE: 29-MAR,1991  22:06                                       *
    *                                                                          *
    ****************************************************************************

   
   --------------------------------------------------------------------------------------------

   Edit:     Axioms and Theorems edited: 29-MAR,1991 22:04 
   
   --------------------------------------------------------------------------------------------




             Formulae given to the editor
             ============================

   
   Axioms:   SORT WOLF,FOX,BIRD,CATERPILLAR,SNAIL : ANIMAL
             SORT GRAIN : PLANT
             ALL X: ANIMAL 
                    (ALL Y : PLANT EATS (X Y))
                    OR (ALL Y : ANIMAL SMALLER (Y X) AND (EX Z : PLANT EATS (Y Z)) 
                        IMPL EATS (X Y))
             ALL X : CATERPILLAR ALL Y : BIRD SMALLER (X Y)
             ALL X : SNAIL ALL Y : BIRD SMALLER (X Y)
             ALL X : BIRD ALL Y : FOX SMALLER (X Y)
             ALL X : FOX ALL Y : WOLF SMALLER (X Y)
             ALL X : FOX ALL Y : WOLF NOT EATS (Y X)
             ALL X : GRAIN ALL Y : WOLF NOT EATS (Y X)
             ALL X : BIRD ALL Y : CATERPILLAR EATS (X Y)
             ALL X : BIRD ALL Y : SNAIL NOT EATS (X Y)
             ALL X : CATERPILLAR EX Y : PLANT EATS (X Y)
             ALL X : SNAIL EX Y : PLANT EATS (X Y)
             
   Theorems: * THEOREMS
             EX X,Y : ANIMAL EX Z : GRAIN EATS (X Y) AND EATS (Y Z)
             
   


             Set of Axiom Clauses Resulting from Normalization
             =================================================

             A1:   All x:Any + =(x x)
             A2:   All x:Bird y:Caterpillar + SMALLER(y x)
           * A3:   All x:Bird y:Snail + SMALLER(y x)
           * A4:   All x:Fox y:Bird + SMALLER(y x)
           * A5:   All x:Wolf y:Fox + SMALLER(y x)
             A6:   All x:Fox y:Wolf - EATS(y x)
           * A7:   All x:Grain y:Wolf - EATS(y x)
             A8:   All x:Caterpillar y:Bird + EATS(y x)
           * A9:   All x:Snail y:Bird - EATS(y x)
             A10:  All x:Caterpillar + EATS(x f_1(x))
           * A11:  All x:Snail + EATS(x f_2(x))
           * A12:  All x,y:Plant z,u:Animal 
                        + EATS(u y)  - SMALLER(z u)  - EATS(z x)  + EATS(u z)
           




             Set of Theorem Clauses Resulting from Normalization
             ===================================================

           * T13: All x:Grain y,z:Animal - EATS(z y)  - EATS(y x)




   --------------------------------------------------------------------------------------------




   Refutation:
   ===========
   
   Initial Clauses:     A1:   All x:Any + =(x x)
                      * A3:   All x:Bird y:Snail + SMALLER(y x)
                      * A4:   All x:Fox y:Bird + SMALLER(y x)
                      * A5:   All x:Wolf y:Fox + SMALLER(y x)
                        A6:   All x:Fox y:Wolf - EATS(y x)
                      * A7:   All x:Grain y:Wolf - EATS(y x)
                        A8:   All x:Caterpillar y:Bird + EATS(y x)
                      * A9:   All x:Snail y:Bird - EATS(y x)
                        A10:  All x:Caterpillar + EATS(x f_1(x))
                      * A11:  All x:Snail + EATS(x f_2(x))
                      * A12:  All x,y:Plant z,u:Animal 
                                   + EATS(u y)  - SMALLER(z u)  - EATS(z x)  + EATS(u z)
                      * T13:  All x:Grain y,z:Animal - EATS(z y)  - EATS(y x)
                      

   
   A12,4 & T13,1  --> * R2:   All x:Grain y,z:Plant u,v:Animal 
                                   + EATS(v z)  - SMALLER(u v)  - EATS(u y)  - EATS(u x)
   
   R2 (instance)  --> * I3:   All x,y:Plant z,u:Animal v:Grain 
                                   + EATS(u y)  - SMALLER(z u)  - EATS(z x)  - EATS(z x)
   
   I3 4=3         --> * D4:   All x,y:Plant z,u:Animal v:Grain 
                                   + EATS(u y)  - SMALLER(z u)  - EATS(z x)
   
   A4,1 & D4,2    --> * R6:   All x:Grain y:Bird z:Plant u:Fox 
                                   + EATS(u z)  - EATS(y x)
   
   A5,1 & D4,2    --> * R7:   All x:Grain y:Fox z:Plant u:Wolf 
                                   + EATS(u z)  - EATS(y x)
   
   R7,1 & A7,1    --> * R8:   All x:Grain y:Fox - EATS(y x)
   
   R6,1 & R8,1    --> * R9:   All x:Grain y:Bird - EATS(y x)
   
   A12,4 & A9,1   --> * R11:  All x:Snail y:Grain z:Bird 
                                   + EATS(z y)  - SMALLER(x z)  - EATS(x f_2(x))
   
   R11,1 & R9,1   --> * R12:  All x:Snail y:Bird - SMALLER(x y)  - EATS(x f_2(x))
   
   R12,1 & A3,1   --> * R13:  All x:Snail - EATS(x f_2(x))
   
   R13,1 & A11,1  --> * R14:  []
   

   
   --------------------------------------------------------------------------------------------



     q.e.d. 


   Time Used for Refutation: 21 seconds

@ ex
NIL
\end{verbatim}

} % \small zu